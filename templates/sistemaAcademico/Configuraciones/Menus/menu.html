{% extends 'sistemaAcademico/inicio.html' %}
{% load staticfiles %}

  {% block extracss %}

         <link href="{% static 'vendor/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet">

  {% endblock extracss %}

                  {% block contenido_principal %}

<header class="cuadro_titulo"> <h4 class="title"> Configuracion | Menu</h4></header>

<br/><br/>
     <a href="{% url 'Academico:nuevo_menu' %}" class="btn btn-success"  id="registrar"><span class="glyphicon glyphicon-plus"></span>nuevo
</a>
<br/><br/>
  <!-- Page level plugins
<table class="table table-striped">
<tr class="success">
<td>Id</td>
<td>Modulo</td>
<td>Principal</td>
<td>Orden</td>
<td>Descripcion</td>
    <td>Estado</td>
    <td>Acciones</td>
</tr>
{% for m in menus %}
<tr>
<td>{{ m.id_menu }}</td>
<td>{{ m.id_modulo }}</td>
<td>{{ m.id_padre }}</td>
<td>{{ m.orden }}</td>
    <td>{{ m.descripcion }}</td>
<td>{{ m.id_genr_estado}}</td>

	<td class="btn btn-info"><span class="glyphicon glyphicon-pencil"></span></td>
		<td class="btn btn-danger"> <span class="glyphicon glyphicon-trash"></span></td>
</tr>
{% endfor %}
    <div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 21 to 30 of 57 entries</div>

</table>

   <ul class="pagination"><li class="paginate_button page-item previous" id="dataTable_previous"><a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="dataTable" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="6" tabindex="0" class="page-link">6</a></li><li class="paginate_button page-item next" id="dataTable_next"><a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a></li></ul>

-->
<div class="card-body">
<div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>Modulo</th>
                      <th>Estado</th>
                      <th>Nombre del menu</th>
                      <th>Tipo</th>
                      <th>Acciones</th>
                    </tr>
                  </thead>
                  <tfoot>
                    <tr>
                     <th>Modulo</th>
                      <th>Estado</th>
                      <th>Nombre del menu</th>
                      <th>Tipo</th>
                      <th>Acciones</th>
                    </tr>
                  </tfoot>
                  <tbody>

                  {% for m in menu_padre %}
                    <tr>
                      <td><strong>{{m.id_modulo}}</strong></td>
                      <td><strong>{{m.id_genr_estado}}</strong></td>
                      <td><strong>{{m.descripcion}}</strong></td>
                      <td><strong>Menu principal</strong></td>
                      <td>
                         <a href="#" class="btn-info btn-circle" title="Editar {{m.descripcion}}"><i class="fas fa-info-circle"></i></a>
                         <a href="#" class="btn btn-danger btn-circle" title="Eliminar {{m.descripcion}}"><i class="fas fa-trash"></i></a>
                         <a href="#opcion_{{m.id_menu}}" data-toggle="collapse" role="button"  aria-dropeffect="link" aria-controls="opcion_{{m.id_menu}}" class="btn btn-success btn-circle" title="Ver contenido de {{m.descripcion}}"><i class="fas fa-arrow-down"></i></a>
                      </td>
                    </tr>
                  {% endfor %}

                  {% for h in menu_hijo %}

                  {% if h.id_padre != 0 %}
                  <tr id="opcion_{{h.id_padre}}" class="collapse" aria-expanded="false">
                      <td>{{h.id_modulo}}</td>
                      <td>{{h.id_genr_estado}}</td>
                      <td>{{h.descripcion}}</td>
                      <td>Opcion del menu {{h.id_modulo}}</td>
                      <td>
                          <a href="#" class="btn-info btn-circle" title="Editar {{h.descripcion}}"><i class="fas fa-info-circle"></i></a>
                         <a href="#" class="btn btn-danger btn-circle" title="Eliminar {{h.descripcion}}"><i class="fas fa-trash"></i></a>
                         <a href="{% url h.url %}" class="btn btn-success btn-circle" title="Ver contenido de {{h.descripcion}}"><i class="fas fa-arrow-right"></i> </a>
                      </td>
                  </tr>
                  {% endif %}
                  {% endfor %}

                  </tbody>
                </table>
              </div>
            </div>

  <div class="card shadow mb-4">
                <!-- Card Header - Accordion -->
                <a href="#collapseCardExampl" class="d-block card-header py-3" data-toggle="collapse" role="button"  aria-controls="collapseCardExampl">
                  <h6 class="m-0 font-weight-bold text-primary">Collapsable Card Example</h6>
                </a>
                <!-- Card Content - Collapse -->
                <div class="collapse show" id="collapseCardExampl" onloadeddata="hide">
                  <div class="card-body">
                    This is a collapsable card example using Bootstrap's built in collapse functionality. <strong>Click on the card header</strong> to see the card body collapse and expand!
                  </div>
                </div>
              </div>

{% endblock contenido_principal %}


{% block extrajs %}

  <script src="{% static 'vendor/datatables/jquery.dataTables.min.js'%}"></script>
  <script src="{% static 'vendor/datatables/dataTables.bootstrap4.min.js'%}"></script>
  <script src="{% static 'js/demo/datatables-demo.js' %}"></script>

    <script>

        function desplegar_opciones(){

        var subRow = Document.getElemetbyid;
        subRow.style.display = subRow.style.display === 'none' ? 'table-row' : 'none';
        }

    </script>

{% endblock extrajs %}






