{% extends 'sistemaAcademico/inicio.html' %}
{% load staticfiles %}

  {% block extracss %}

         <link href="{% static 'vendor/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet">

  {% endblock extracss %}

{% block contenido_principal %}

<header class="cuadro_titulo"> <h4 class="title"> Configuracion | Menu</h4></header>

<br/><br/>
     <button onclick="abrir_modal('{% url 'Academico:nuevo_menu' %}')" class="btn btn-success"  id="registrar"><span class="glyphicon glyphicon-plus"></span>nuevo
</button>
<br/><br/>

<div class="card-body">
<div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0" data-page-length='25' onloadeddata="traducir()">
                  <thead>
                    <tr>
                      <th>Modulo</th>
                      <th>Estado</th>
                      <th>Nombre del menu</th>
                      <th>Tipo</th>
                      <th>Acciones</th>
                    </tr>
                  </thead>
                  <tfoot>
                    <tr>
                     <th>Modulo</th>
                      <th>Estado</th>
                      <th>Nombre del menu</th>
                      <th>Tipo</th>
                      <th>Acciones</th>
                    </tr>
                  </tfoot>
                  <tbody>

                  {% for m in menu_padre %}
                    <tr>
                      <td><strong>{{m.id_modulo}}</strong></td>
                      <td><strong>{{m.id_genr_estado}}</strong></td>
                      <td><strong>{{m.descripcion}}</strong></td>
                      <td><strong>Menu principal</strong></td>
                      <td>
                         <a href="#" class="btn-info btn-circle" title="Editar {{m.descripcion}}"><i class="fas fa-info-circle"></i></a>
                         <a href="#" class="btn btn-danger btn-circle" title="Eliminar {{m.descripcion}}"><i class="fas fa-trash"></i></a>
                         <a href="#opcion_{{m.id_menu}}" data-toggle="collapse" role="button"  aria-dropeffect="link" aria-controls="opcion_{{m.id_menu}}" class="btn btn-success btn-circle" title="Ver contenido de {{m.descripcion}}"><i class="fas fa-arrow-down"></i></a>
                      </td>
                    </tr>
                  {% endfor %}

                  {% for h in menu_hijo %}

                  {% if h.id_padre != 0 %}
                  <tr id="opcion_{{h.id_padre}}" class="collapse" aria-expanded="false">
                      <td>{{h.id_modulo}}</td>
                      <td>{{h.id_genr_estado}}</td>
                      <td>{{h.descripcion}}</td>
                      <td>Opcion del menu {{h.id_modulo}}</td>
                      <td>
                          <a  class="btn-info btn-circle" title="Editar {{h.descripcion}}"><i class="fas fa-info-circle"></i></a>
                         <a href="#" class="btn btn-danger btn-circle" title="Eliminar {{h.descripcion}}"><i class="fas fa-trash"></i></a>
                         <a href="{% url h.url %}" class="btn btn-success btn-circle" title="Ver contenido de {{h.descripcion}}"><i class="fas fa-arrow-right"></i> </a>
                      </td>
                  </tr>
                  {% endif %}
                  {% endfor %}

                  </tbody>
                </table>
              </div>
            </div>



<div class="modal fade" id="edicion" role="dialog">


</div>

{% endblock contenido_principal %}


{% block extrajs %}

    <script type="text/javascript">

    function abrir_modal(url){
        var $ = Jquery.noConflict();
        $('#edicion').load(url, function(){

            $(this).modal('show');

        });

    }
    </script>

  <script src="{% static 'vendor/datatables/jquery.dataTables.min.js'%}"></script>
  <script src="{% static 'vendor/datatables/dataTables.bootstrap4.min.js'%}"></script>
  <script src="{% static 'js/demo/datatables-demo.js' %}"></script>


{% endblock extrajs %}


