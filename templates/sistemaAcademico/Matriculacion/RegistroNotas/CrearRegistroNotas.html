{% extends 'base/base.html' %}
{% block encabezado %}
{% endblock encabezado %}
{% block sidebar %}
{% endblock sidebar %}
{% load crispy_forms_tags %}

{% block contenido_principal %}
<form method="POST" action="#">
    {% csrf_token %}
    {% if error %}
    <h2>{{ error }}</h2>
    {% else %}
    <header class="cuadro_titulo">
        <h4 class="titulo text-center">Matriculacion | Registrar Notas</h4>
    </header>
    <div class="card-body card-block">
        <form action="#" enctype="multipart/form-data" class="form-horizontal" method="post">
            <div class="row justify-content-center">
                <div class="col-4">
                    {{ form.id_matriculacion_estudiante|as_crispy_field }}
                    {{ form.disciplina|as_crispy_field }}
                    {{ form.id_materia_profesor|as_crispy_field }}
                    {{ form.id_general_quimestre|as_crispy_field }}
                </div>
                <div class="col-4">
                    {{ form.primer_parcial|as_crispy_field }}
                    {{ form.segundo_parcial|as_crispy_field }}
                    {{ form.tercer_parcial|as_crispy_field }}
                    <label for="id_promedio_parciales" class="">
                        Promedio de los parciales
                    </label>
                    <div class="row">
                        <div class="col-8">
                            <div id="div_id_promedio_parciales" class="form-group">
                                <div class="">
                                    <input type="number" name="promedio_parciales" step="any"  class="numberinput form-control" id="id_promedio_parciales" >
                                </div>
                            </div>
                        </div>
                        <div class="col-2">
                            <input  class="btn btn-primary" type="button" value="Calcular" onclick="total();">
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    {{ form.examen|as_crispy_field }}
                    {{ form.examen_supletorio|as_crispy_field }}
                    {{ form.examen_gracia|as_crispy_field }}
                    <label for="id_total_promedio_general" class="">
                            Promedio total
                        </label>
                    <div class="row">
                        <div class="col-8">
                            <div id="div_id_total_promedio_general" class="form-group">
                                <div class="">
                                    <input type="number" name="total_promedio_general" step="any"  class="numberinput form-control" id="id_total_promedio_general">
                                </div>
                            </div>
                        </div>
                        <div class="col-2">
                            <input class="btn btn-primary" type="button" value="calcular" onclick="resultado();">
                        </div>
                    </div>
                </div>

            </div><br><br><br>
            <div class=" text-center">
                <button type="submit" class="btn btn-outline-primary">Registrar</button>
                <button type="reset" class="btn btn-outline-info">Restablecer</button>
                <a class="btn btn-outline-danger" href="{% url 'Academico:registro_notas' %}">Cancelar</a>
            </div>
        </form>
    </div>
</form>
    {% endif %}
{% endblock contenido_principal %} {% block footer %}
{% endblock %}
{% block extrajs %}
    <script>
     function total() {
     //primer parcial
     var n1 = document.getElementById('id_primer_parcial').value;
     var n2 = document.getElementById('id_segundo_parcial').value;
     var n3 = document.getElementById('id_tercer_parcial').value;
     var pr = (parseFloat(n1)+parseFloat(n2)+parseFloat(n3))/3;




     x = document.getElementById("id_promedio_parciales");

    x.value = pr;


 }
 function resultado(){
     var n1 = document.getElementById('id_examen').value;
     var n2 = document.getElementById('id_examen_gracia').value;
     var n3 = document.getElementById('id_examen_supletorio').value;
     var pr = (parseFloat(n1)+parseFloat(n2)+parseFloat(n3))/3;


     x = document.getElementById("id_total_promedio_general");

    x.value = pr;

 }
    </script>
{% endblock extrajs %}